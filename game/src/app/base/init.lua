package.loaded["app.base.announce.AnnounceDetailLayer"] = nil
package.loaded["app.base.announce.AnnounceGainedLayer"] = nil
package.loaded["app.base.announce.AnnounceLayer"] = nil
package.loaded["app.base.announce.AnnounceUngainedLayer"] = nil
package.loaded["app.base.bank.BankLayer"] = nil
package.loaded["app.base.exchange.ExchangeLayer"] = nil
package.loaded["app.base.exchange.YinhangkaLayer"] = nil
package.loaded["app.base.exchange.ZhifubaoLayer"] = nil
package.loaded["app.base.hall.GameItemClass"] = nil
package.loaded["app.base.hall.HallCore"] = nil
package.loaded["app.base.hall.HallScene"] = nil
package.loaded["app.base.hall.QmdlLayer"] = nil
package.loaded["app.base.hall.QmdlHelpLayer"] = nil
package.loaded["app.base.hall.QmdlPopupLayer"] = nil
package.loaded["app.base.hall.RoomItemClass"] = nil
package.loaded["app.base.hall.XsjlLayer"] = nil
package.loaded["app.base.hall.ZcsjLayer"] = nil
package.loaded["app.base.huodong.HuodongLayer"] = nil
package.loaded["app.base.login.LoginCore"] = nil
package.loaded["app.base.login.LoginLayer"] = nil
package.loaded["app.base.login.SmsLoginLayer"] = nil
package.loaded["app.base.login.LoginScene"] = nil
package.loaded["app.base.login.ModifyLayer"] = nil
package.loaded["app.base.login.RegisterLayer"] = nil
package.loaded["app.base.login.ResetLayer"] = nil
package.loaded["app.base.login.SwitchLayer"] = nil
package.loaded["app.base.personal.HeadLayer"] = nil
package.loaded["app.base.personal.PersonalLayer"] = nil
package.loaded["app.base.rank.RankLayer"] = nil
package.loaded["app.base.rank.RankRuleLayer"] = nil
package.loaded["app.base.recharge.ProxyLayer"] = nil
package.loaded["app.base.recharge.RechargeLayer"] = nil
package.loaded["app.base.service.ServiceLayer"] = nil
package.loaded["app.base.gameroom.zjh.ZJHRoomScene"] = nil
package.loaded["app.base.gameroom.zjh.ZJHRoomCore"] = nil
package.loaded["app.base.gameroom.zjh.ZhaJinHuaHelpLayer"] = nil
package.loaded["app.base.gameroom.qznn.QZNNRoomScene"] = nil
package.loaded["app.base.gameroom.qznn.QZNNRoomCore"] = nil
package.loaded["app.base.gameroom.qznn.QZNNHelpLayer"] = nil
package.loaded["app.base.gameroom.jsmj.JSMJRoomScene"] = nil
package.loaded["app.base.gameroom.jsmj.JSMJRoomCore"] = nil
package.loaded["app.base.gameroom.jsmj.JSMJHelpLayer"] = nil
package.loaded["app.base.gameroom.brqznn.BRQZNNRoomScene"] = nil
package.loaded["app.base.gameroom.brqznn.BRQZNNRoomCore"] = nil
package.loaded["app.base.gameroom.brqznn.BRQZNNHelpLayer"] = nil
package.loaded["app.base.gameroom.fish.FishRoomScene"] = nil
package.loaded["app.base.gameroom.fish.FishRoomCore"] = nil
package.loaded["app.base.gameroom.fish.FishHelpLayer"] = nil
package.loaded["app.base.gameroom.ddz.DDZRoomScene"] = nil
package.loaded["app.base.gameroom.ddz.DDZRoomCore"] = nil
package.loaded["app.base.gameroom.ddz.DDZHelpLayer"] = nil
package.loaded["app.base.gameroom.cpddz.CPDDZRoomScene"] = nil
package.loaded["app.base.gameroom.cpddz.CPDDZRoomCore"] = nil
package.loaded["app.base.gameroom.cpddz.CPDDZHelpLayer"] = nil
package.loaded["app.base.gameroom.brnn.BRNNRoomScene"] = nil
package.loaded["app.base.gameroom.brnn.BRNNRoomCore"] = nil
package.loaded["app.base.gameroom.brnn.BRNNHelpLayer"] = nil
package.loaded["app.base.gameroom.fruit.FruitRoomScene"] = nil
package.loaded["app.base.gameroom.fruit.FruitRoomCore"] = nil
package.loaded["app.base.gameroom.fruit.FruitHelpLayer"] = nil
package.loaded["app.base.gameroom.hb.HBRoomScene"] = nil
package.loaded["app.base.gameroom.hb.HBRoomCore"] = nil
package.loaded["app.base.gameroom.hb.HBHelpLayer"] = nil
package.loaded["app.base.gameroom.qzpj.QZPJRoomScene"] = nil
package.loaded["app.base.gameroom.qzpj.QZPJRoomCore"] = nil
package.loaded["app.base.gameroom.qzpj.QZPJHelpLayer"] = nil
package.loaded["app.base.gameroom.sangong.SanGongRoomScene"] = nil
package.loaded["app.base.gameroom.sangong.SanGongRoomCore"] = nil
package.loaded["app.base.gameroom.sangong.SanGongHelpLayer"] = nil
require("app.base.announce.AnnounceDetailLayer")
require("app.base.announce.AnnounceGainedLayer")
require("app.base.announce.AnnounceLayer")
require("app.base.announce.AnnounceUngainedLayer")
require("app.base.bank.BankLayer")
require("app.base.exchange.ExchangeLayer")
require("app.base.exchange.YinhangkaLayer")
require("app.base.exchange.ZhifubaoLayer")
require("app.base.hall.GameItemClass")
require("app.base.hall.HallCore")
require("app.base.hall.HallScene")
require("app.base.hall.QmdlLayer")
require("app.base.hall.QmdlHelpLayer")
require("app.base.hall.QmdlPopupLayer")
require("app.base.hall.RoomItemClass")
require("app.base.hall.XsjlLayer")
require("app.base.hall.ZcsjLayer")
require("app.base.huodong.HuodongLayer")
require("app.base.login.LoginCore")
require("app.base.login.LoginLayer")
require("app.base.login.SmsLoginLayer")
require("app.base.login.LoginScene")
require("app.base.login.ModifyLayer")
require("app.base.login.RegisterLayer")
require("app.base.login.ResetLayer")
require("app.base.login.SwitchLayer")
require("app.base.personal.HeadLayer")
require("app.base.personal.PersonalLayer")
require("app.base.rank.RankLayer")
require("app.base.rank.RankRuleLayer")
require("app.base.recharge.ProxyLayer")
require("app.base.recharge.RechargeLayer")
require("app.base.service.ServiceLayer")
require("app.base.gameroom.zjh.ZJHRoomScene")
require("app.base.gameroom.zjh.ZJHRoomCore")
require("app.base.gameroom.zjh.ZhaJinHuaHelpLayer")
require("app.base.gameroom.qznn.QZNNRoomScene")
require("app.base.gameroom.qznn.QZNNRoomCore")
require("app.base.gameroom.qznn.QZNNHelpLayer")
require("app.base.gameroom.jsmj.JSMJRoomScene")
require("app.base.gameroom.jsmj.JSMJRoomCore")
require("app.base.gameroom.jsmj.JSMJHelpLayer")
require("app.base.gameroom.brqznn.BRQZNNRoomScene")
require("app.base.gameroom.brqznn.BRQZNNRoomCore")
require("app.base.gameroom.brqznn.BRQZNNHelpLayer")
require("app.base.gameroom.fish.FishRoomScene")
require("app.base.gameroom.fish.FishRoomCore")
require("app.base.gameroom.fish.FishHelpLayer")
require("app.base.gameroom.ddz.DDZRoomScene")
require("app.base.gameroom.ddz.DDZRoomCore")
require("app.base.gameroom.ddz.DDZHelpLayer")
require("app.base.gameroom.cpddz.CPDDZRoomScene")
require("app.base.gameroom.cpddz.CPDDZRoomCore")
require("app.base.gameroom.cpddz.CPDDZHelpLayer")
require("app.base.gameroom.brnn.BRNNRoomScene")
require("app.base.gameroom.brnn.BRNNRoomCore")
require("app.base.gameroom.brnn.BRNNHelpLayer")
require("app.base.gameroom.fruit.FruitRoomScene")
require("app.base.gameroom.fruit.FruitRoomCore")
require("app.base.gameroom.fruit.FruitHelpLayer")
require("app.base.gameroom.hb.HBRoomScene")
require("app.base.gameroom.hb.HBRoomCore")
require("app.base.gameroom.hb.HBHelpLayer")
require("app.base.gameroom.qzpj.QZPJRoomScene")
require("app.base.gameroom.qzpj.QZPJRoomCore")
require("app.base.gameroom.qzpj.QZPJHelpLayer")
require("app.base.gameroom.sangong.SanGongRoomScene")
require("app.base.gameroom.sangong.SanGongRoomCore")
require("app.base.gameroom.sangong.SanGongHelpLayer")
function ENTER_HALL()
    if SCENE_NAME == "Hall" then
        return
    end
    HallCore.new():run()
    SCENE_NAME = "Hall"
    eventManager:publish("ExitGame")
    if dataManager.setLoginStatus then
        dataManager:setLoginStatus(1)
    end
end

function ENTER_HALL_ROOM(gameId)
    if SCENE_NAME == "Hall" then
        return
    end
    HallCore.new(gameId):run()
    SCENE_NAME = "Hall"
    eventManager:publish("ExitGame")
    if dataManager.setLoginStatus then
        dataManager:setLoginStatus(1)
    end
end

function ENTER_LOGIN()
    if SCENE_NAME == "Login" then
        return
    end
    LoginCore.new():run()
    SCENE_NAME = "Login"
    eventManager:publish("ExitGame")
    if dataManager.setLoginStatus then
        dataManager:setLoginStatus(2)
    end
end

function ENTER_GAME(gameId, roomInfo)
    local game = require(GAMECORE_CONFIGS[gameId]).new(roomInfo)
    if game then
        SCENE_NAME = "Game"
        game:run()
        game.gameId = gameId
        print(GAMECORE_CONFIGS[gameId] .. " require success")
    else
        print(GAMECORE_CONFIGS[gameId] .. " is invalid")
    end
    return game
end

--获取手机刘海高度，调整大厅或者游戏里面被刘海挡住的UI
function GET_PHONE_HAIRE_WIDTH()
    local width = 0
    local scale = math.floor(display.height / display.width * 10)
    if device.platform == "ios" and scale < 5 then
        width = 40
    end
    return width
end

--是否支持捕鱼水果机
function SUPPORT_FISH_FRUIT()
    local flags = true
    if device.platform == "ios" and (CHANNEL_ID == 2 or CHANNEL_ID == 7 or CHANNEL_ID == 17) then
        flags = false
    end
    return flags
end

--是否支持微信登录/分享
function SUPPORT_WECHAT()
    local flags = true
    if device.platform == "ios" and (CHANNEL_ID == 2 or CHANNEL_ID == 7 or CHANNEL_ID == 17) then
        flags = false
    end
    return flags
end

--是否支持定位
function SUPPORT_LOCATION()
    local flags = true
    if device.platform == "ios" and (CHANNEL_ID == 2 or CHANNEL_ID == 7 or CHANNEL_ID == 17) then
        flags = false
    end
    return flags
end

function SUPPORT_CAMERA()
    local flags = true
    if device.platform == "ios" and (CHANNEL_ID == 2 or CHANNEL_ID == 7 or CHANNEL_ID == 17 or CHANNEL_ID == 15 or CHANNEL_ID == 18) then
        flags = false
    end
    return flags
end